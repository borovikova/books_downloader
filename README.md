# Парсер книг с сайта tululu.org

Парсер для скачивания книг с сайта tululu.org. Скачивает книги и обложки к ним из [раздела "Научная фантастика"](http://tululu.org/l55/). Пути к файлам и данные о книгах (название, автор, жанры, комментарии) записывает в формате JSON.

```
[
  {
    "title": "Двадцать тысяч лье под водой",
    "author": "Верн Жюль Габриэль",
    "img_src": "images/59678.jpg",
    "book_path": null,
    "comments": [
      "ШЕДДЕВР! КТО НЕ ЧИТАЛ - ЧИТАЙТЕ И ДАЙТЕ ПОЧИТАТЬ СВОИМ ДЕТЯМ! ФИЛЬМ-ТУФТА!",
      "Книга чудесная, фильм слабоват.",
      "Немного наивная, но добрая и интересная книга. Не могу сказать, что шедевр, но возможно, мы уже просто гонимся за экшном..",
      "Как бы то не было, но все что было написано мечтами писателя, сейчас все сбылось и человечество до этого упорно и целеустремленно дошло, так что все сбывается...",
      "Рекомендую любителям фэнтези.",
      "Я читала эту книгу много раз она мне очень понравилась... Она заинтересовала, заинтриговала меня. Фильм мне не очень понравился. Читайте книги они могут оказаться настолько интересными, что вы не сможете остановится пока не дочитаете. VZ.",
      "Очень хорошая книга всем рекомендую!!!!!!!!!!!"
    ],
    "genres": [
      "Морские приключения",
      "Научная фантастика"
    ]
  }
]
```

### Как установить

Python3 должен быть уже установлен.
Затем используйте `pip` (или `pip3`, есть есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```

### Аргументы

Скрипт запускается командой
```
python3 main.py
```
Он принимает аргументы: `--start_page`, `--end_page`, `--file_path`.
 
`--start_page` указывает, с какой страницы [раздела "Научная фантастика"](http://tululu.org/l55/) начинется парсинг ссылок и скачивание книг. По умолчанию парсинг начинается с самой первой страницы под номером 1.

`--end_page` указывает, до какой страницы будет будет продолжаться парсинг, по умолчанию - 701.

`--file_path` задает путь сохранения метаданных книг (название, автор, путь до файла с обложкой, путь до файла с текстом книги, комментарии, жанровая принадлежность). При необходимости задать значение по умолчанию, создайте в корне проекта файл `.env` и запишите путь к файлу в переменную `FILE_PATH` (путь к файлу записывается без кавычек).

При невозможности скачать страницу [категории](http://tululu.org/l55/) или отдельной книги, пропускает страницу и продолжает скачивание других страниц. 

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).